<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Igreja Presbiteriana do Rio Comprido</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

<!-- Incluindo o menu superior -->
<div id="header-container"></div>

<!-- Banner -->
<div class="banner-container">
    <img src="images/banner1.png" class="banner-slide active">
    <img src="images/banner2.png" class="banner-slide">
</div>

<!-- Paginador -->
<div class="pontos">
    <span data-index="0" class="active"></span>
    <span data-index="1"></span>
</div>

<section id="estudo-semana">
    <h2 style="color: var(--azul-medio);">Estudo Bíblico da Semana</h2>
    <div class="estudo">
        <img id="capa-estudo" src="" alt="Capa do estudo">
        <div class="info">
            <h2 id="titulo-estudo"></h2>
            <p id="resumo-estudo"></p>
            <a id="link-estudo" href="#" class="botao">Leia mais</a>
        </div>
    </div>
</section>

<script>
    async function carregarUltimoEstudo() {
        try {
            const response = await fetch("estudos.json");
            const estudos = await response.json();
            if (estudos.length > 0) {
                const ultimoEstudo = estudos[estudos.length - 1]; // Último estudo adicionado
                document.getElementById("capa-estudo").src = ultimoEstudo.imagem;
                document.getElementById("titulo-estudo").innerText = ultimoEstudo.titulo;
                document.getElementById("resumo-estudo").innerText = ultimoEstudo.resumo;
                document.getElementById("link-estudo").href = `estudo-detalhe.html?id=${ultimoEstudo.id}`;
            }
        } catch (error) {
            console.error("Erro ao carregar o estudo da semana:", error);
        }
    }

    carregarUltimoEstudo();
</script>


<footer>
    <p>&copy; 2025 Igreja Presbiteriana do Rio Comprido - Todos os direitos reservados</p>
</footer>

<script>
    // Carregar o menu superior automaticamente
    fetch("includes/header.html")
        .then(response => response.text())
        .then(data => document.getElementById("header-container").innerHTML = data);

    // Script do banner
    let index = 0;
    const slides = document.querySelectorAll('.banner-slide');
    const pontos = document.querySelectorAll('.pontos span');

    function mudarSlide(novoIndex) {
        slides[index].classList.remove('active');
        pontos[index].classList.remove('active');
        index = novoIndex;
        slides[index].classList.add('active');
        pontos[index].classList.add('active');
    }

    setInterval(() => {
        let novoIndex = (index + 1) % slides.length;
        mudarSlide(novoIndex);
    }, 5000);

    pontos.forEach((ponto, i) => {
        ponto.addEventListener('click', () => mudarSlide(i));
    });
</script>

</body>
</html>
